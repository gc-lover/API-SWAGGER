# Task ID: API-TASK-230
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 05:10
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** GPT-5 Codex (API Task Creator)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-228, API-TASK-224, API-TASK-219

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: in-game, WebSocket push, email, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ –∏—Å—Ç–æ—Ä–∏—è.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å `api/v1/notifications/notifications.yaml`, –æ–ø–∏—Å–∞–≤ REST/WS –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏ –º–æ–¥–µ–ª–∏ –ø–æ `.BRAIN/05-technical/backend/notification-system.md`.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–û–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–¥—ë–∂–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–≥–æ—Ñ–æ—Ä–º–∞—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (toast, inbox, email, push)
- –ü–æ–∑–≤–æ–ª–∏—Ç—å –∏–≥—Ä–æ–∫–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –±—ç–∫–µ–Ω–¥—ã –±–∞—Ç—á —Ä–∞—Å—Å—ã–ª–æ–∫, —à–∞–±–ª–æ–Ω–æ–≤, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å progression, quests, friends, guilds, economy

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç

**–ü—É—Ç—å:** `.BRAIN/05-technical/backend/notification-system.md`
**–í–µ—Ä—Å–∏—è:** v1.0.0 (2025-11-07)
**–°—Ç–∞—Ç—É—Å:** approved, api-readiness: ready

**–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**
- –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –∫–∞–Ω–∞–ª—ã –¥–æ—Å—Ç–∞–≤–∫–∏
- Preference center, opt-in/out, —Ç–∏—Ö–∏–µ —á–∞—Å—ã
- –®–∞–±–ª–æ–Ω—ã, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è, –∫–æ–Ω—Ç–µ–Ω—Ç
- –ò—Å—Ç–æ—Ä–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã
- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, —Ä–µ—Ç—Ä–∞–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (achievements, quests, friends, guild, economy)

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/05-technical/backend/friend-system.md`
- `.BRAIN/05-technical/backend/quest-engine-backend.md`
- `.BRAIN/05-technical/backend/achievement/achievement-tracking.md`
- `.BRAIN/05-technical/backend/economy-system.md`
- `.BRAIN/05-technical/backend/session-management/README.md`
- `.BRAIN/05-technical/backend/realtime-server/part2-protocol-optimization.md`

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `API-SWAGGER/tasks/active/queue/task-228-friend-system-api.md`
- `API-SWAGGER/tasks/active/queue/task-219-achievement-tracking-api.md`
- `API-SWAGGER/tasks/active/queue/task-224-progression-backend-api.md`

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

- **–§–∞–π–ª:** `api/v1/notifications/notifications.yaml`
- **–í–µ—Ä—Å–∏—è API:** v1
- **–§–æ—Ä–º–∞—Ç:** OpenAPI 3.0.3

```
API-SWAGGER/api/v1/notifications/
 ‚îú‚îÄ‚îÄ notifications.yaml      ‚Üê —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å
 ‚îú‚îÄ‚îÄ notifications-components.yaml
 ‚îî‚îÄ‚îÄ notifications-examples.yaml
```

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** notification-service
- **–ü–æ—Ä—Ç:** 8092
- **API Base Path:** `/api/v1/notifications`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - auth-service ‚Äì –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∫–∞–Ω–∞–ª—ã (email, phone)
  - session-service ‚Äì online presence, device tokens
  - realtime-service ‚Äì WebSocket fanout
  - template-service ‚Äì —à–∞–±–ª–æ–Ω—ã, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
  - analytics-service ‚Äì –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å, CTR
  - economy-service ‚Äì –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—ã–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - mail-service ‚Äì SMTP/ESP integration
  - push-gateway ‚Äì –º–æ–±–∏–ª—å–Ω—ã–µ push
  - moderation-service ‚Äì —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### Frontend
- **–ú–æ–¥—É–ª—å:** `modules/system/notifications`
- **State Store:** `useNotificationStore`
- **State:** `inbox`, `unreadCount`, `preferences`, `channels`, `history`, `muted`
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** `NotificationCenter`, `NotificationToast`, `NotificationPreferences`, `QuietHoursForm`, `NotificationHistory`, `NotificationChannelBadge`
- **–§–æ—Ä–º—ã:** `PreferenceUpdateForm`, `SubscribeChannelForm`, `QuietHoursForm`, `NotificationSearchForm`
- **–•—É–∫–∏:** `useNotifications`, `useNotificationPreferences`, `useNotificationSocket`, `useQuietHours`

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è YAML

```yaml
# Target Architecture:
# - Microservice: notification-service (port 8092)
# - API Base: /api/v1/notifications
# - Dependencies: auth, session, realtime, template, analytics, economy, mail, push-gateway, moderation
# - Frontend Module: modules/system/notifications (useNotificationStore)
# - UI: NotificationCenter, NotificationToast, NotificationPreferences, QuietHoursForm, NotificationHistory, NotificationChannelBadge
# - Forms: PreferenceUpdateForm, SubscribeChannelForm, QuietHoursForm, NotificationSearchForm
# - Hooks: useNotifications, useNotificationPreferences, useNotificationSocket, useQuietHours
```

---

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω)

1. –û–ø–∏—Å–∞—Ç—å –º–æ–¥–µ–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∫–∞–Ω–∞–ª–æ–≤, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π, —à–∞–±–ª–æ–Ω–æ–≤, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π.
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∏ –±–∞—Ç—á —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏, —Ç–∏—Ö–∏–º–∏ —á–∞—Å–∞–º–∏, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
4. –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–æ–∏—Å–∫, –ø–∞–≥–∏–Ω–∞—Ü–∏—é.
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WebSocket —Å–æ–±—ã—Ç–∏—è (–Ω–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞).
6. –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —à–∞–±–ª–æ–Ω—ã, —Ç–µ—Å—Ç–æ–≤—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é.
7. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ—Ç—Ä–∞–∏, –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é, idempotency.
8. –û–±–µ—Å–ø–µ—á–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.
9. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã.

---

## üîÄ Endpoints

1. **GET `/api/v1/notifications/inbox`** ‚Äì —Ç–µ–∫—É—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ (—Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É, —Å—Ç–∞—Ç—É—Å—É).
2. **GET `/api/v1/notifications/history`** ‚Äì –∞—Ä—Ö–∏–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
3. **POST `/api/v1/notifications/send`** ‚Äì –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–∫–∞–Ω–∞–ª—ã, payload).
4. **POST `/api/v1/notifications/send/batch`** ‚Äì –º–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ (—Å–ø–∏—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π, —Å–µ–≥–º–µ–Ω—Ç—ã).
5. **POST `/api/v1/notifications/test`** ‚Äì —Ç–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —à–∞–±–ª–æ–Ω–∞ (QA/GM, audit).
6. **GET `/api/v1/notifications/preferences`** ‚Äì —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä–æ–∫–∞.
7. **PUT `/api/v1/notifications/preferences`** ‚Äì –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π, –ø–æ–¥–ø–∏—Å–æ–∫.
8. **GET `/api/v1/notifications/quiet-hours`** ‚Äì —Ç–∏—Ö–∏–µ —á–∞—Å—ã.
9. **PUT `/api/v1/notifications/quiet-hours`** ‚Äì –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏—Ö–∏—Ö —á–∞—Å–æ–≤, timezone.
10. **GET `/api/v1/notifications/devices`** ‚Äì –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞/–∫–∞–Ω–∞–ª—ã.
11. **POST `/api/v1/notifications/devices`** ‚Äì –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (token, platform, capabilities).
12. **DELETE `/api/v1/notifications/devices/{deviceId}`** ‚Äì —É–¥–∞–ª–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
13. **GET `/api/v1/notifications/templates`** ‚Äì —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–π.
14. **POST `/api/v1/notifications/templates/render`** ‚Äì –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–∞ —Å –¥–∞–Ω–Ω—ã–º–∏.
15. **GET `/api/v1/notifications/delivery`** ‚Äì —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏, —Ä–µ—Ç—Ä–∞–∏, –º–µ—Ç—Ä–∏–∫–∏.
16. **POST `/api/v1/notifications/ack`** ‚Äì –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è/–ø–æ–ª—É—á–µ–Ω–∏—è.
17. **DELETE `/api/v1/notifications/{notificationId}`** ‚Äì —Å–∫—Ä—ã—Ç—å/—É–¥–∞–ª–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–∑ inbox.
18. **POST `/api/v1/notifications/webhooks`** ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è webhooks –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.
19. **POST `/api/v1/notifications/retry/{notificationId}`** ‚Äì –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ (GM/ops).
20. **WS `/api/v1/notifications/stream`** ‚Äì —Å–æ–±—ã—Ç–∏—è: `notification-received`, `notification-updated`, `delivery-status`, `preference-updated`, `device-updated`.

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **Notification** ‚Äì `notificationId`, `type`, `title`, `message`, `channel`, `priority`, `payload`, `link`, `expiresAt`, `status`.
- **NotificationPayload** ‚Äì `context`, `entities`, `cta`, `metadata`.
- **Preference** ‚Äì `channel`, `enabled`, `quietHours`, `frequency`, `categories`.
- **QuietHours** ‚Äì `start`, `end`, `timezone`, `suppressCritical`.
- **Device** ‚Äì `deviceId`, `platform`, `token`, `capabilities`, `lastSeen`, `status`.
- **Template** ‚Äì `templateId`, `name`, `category`, `locales`, `variables`, `version`.
- **DeliveryStatus** ‚Äì `deliveryId`, `channel`, `state`, `attempts`, `lastAttemptAt`, `error`.
- **BatchRequest** ‚Äì `batchId`, `recipients`, `segments`, `filters`, `scheduledAt`.
- **WebhookConfig** ‚Äì `webhookId`, `url`, `events`, `secret`, `status`.
- **RealtimeEventPayload** ‚Äì `notificationReceived`, `notificationUpdated`, `deliveryStatus`, `preferenceUpdated`, `deviceUpdated`.
- **Error Schema (`NotificationError`)** ‚Äì codes (`CHANNEL_DISABLED`, `DEVICE_INVALID`, `QUIET_HOURS`, `TEMPLATE_MISSING`, `DELIVERY_FAILED`, `PAYLOAD_INVALID`, `RATE_LIMITED`, `WEBHOOK_ERROR`).

---

## üß≠ –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `BearerAuth` (players); `ServiceToken` (internal producers); `GMToken` (ops).
- Idempotency: `Send` –∏ `Batch` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç `idempotencyKey`.
- Rate limiting: –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –º–∞—Å—Å–æ–≤—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- Localization: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å template-service, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ –∫–æ–¥–µ.
- Compliance: —Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —Å–æ–≥–ª–∞—Å–∏—è (GDPR, opt-in).
- Security: —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å injection.
- Observability: –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏, –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –≤ analytics.

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã

- –û—Ç–ø—Ä–∞–≤–∫–∞ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫–≤–µ—Å—Ç–∞ —Å CTA.
- –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ email –æ –Ω–æ–≤–æ–º —Å–µ–∑–æ–Ω–µ —Å —à–∞–±–ª–æ–Ω–æ–º –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏—Ö–∏—Ö —á–∞—Å–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π.
- –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —Ä–µ—Ç—Ä–∞–π –¥–æ—Å—Ç–∞–≤–∫–∏.
- WebSocket —Å–æ–±—ã—Ç–∏–µ `notification-received` —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤ UI.

---

## üîó –°–≤—è–∑–Ω–æ—Å—Ç–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å friends, guilds, quests, achievements, economy, battle pass.
‚Äì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç realtime –∏ session-service –¥–ª—è live –¥–æ—Å—Ç–∞–≤–∫–∏.
- –ü–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –≤ analytics-service –∏ incident-service.
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç template-service –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏, mail-service –¥–ª—è email.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. `notifications.yaml` –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –∫–∞–Ω–∞–ª—ã, —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
2. –û–ø–∏—Å–∞–Ω—ã –º–æ–¥–µ–ª–∏, —Å–æ–±—ã—Ç–∏—è, —Å—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏, –æ—à–∏–±–∫–∏.
3. –ü—Ä–æ–ø–∏—Å–∞–Ω—ã idempotency, rate limits, quiet hours, audit.
4. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã, —Ç–µ—Å—Ç-–∫–µ–π—Å—ã, —á–µ–∫–ª–∏—Å—Ç.

---

## üìé Checklist

- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —à–∞–±–ª–æ–Ω `api-generation-task-template.md`
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, UI –º–æ–¥—É–ª—å, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ —Å–æ–±—ã—Ç–∏—è –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫—É, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è, –∏—Å—Ç–æ—Ä–∏—é
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏, –æ—à–∏–±–∫–∏, –ø—Ä–∏–º–µ—Ä—ã, –∫—Ä–∏—Ç–µ—Ä–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `tasks/config/brain-mapping.yaml`

---

## ‚ùìFAQ

**Q:** –ù—É–∂–Ω–æ –ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–Ω–µ —Ç–∏—Ö–∏—Ö —á–∞—Å–æ–≤?**
**A:** –î–∞, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å override –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (`priority=CRITICAL`) —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∏–≥—Ä–æ–∫–∞ –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ —Ç–∏—Ö–∏—Ö —á–∞—Å–æ–≤.

**Q:** –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö?**
**A:** –í–≤–µ—Å—Ç–∏ `delivery` —Ä–µ—Å—É—Ä—Å —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏; —Ä–µ—Ç—Ä–∞–∏ —á–µ—Ä–µ–∑ endpoint `/retry/{notificationId}`, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏ –ª–æ–≥–∏—Ä—É—è –ø—Ä–∏—á–∏–Ω—ã.


