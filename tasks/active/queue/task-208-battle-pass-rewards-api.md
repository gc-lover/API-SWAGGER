# Task ID: API-TASK-208
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 00:12
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** GPT-5 Codex (API Task Creator)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-207

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥ –∏ –∏—Å–ø—ã—Ç–∞–Ω–∏–π Battle Pass (`battle-pass-rewards-challenges`).

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å `api/v1/gameplay/battle-pass/battle-pass-rewards.yaml`, –æ–ø–∏—Å–∞–≤ –≤—ã–¥–∞—á—É –Ω–∞–≥—Ä–∞–¥, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞–º–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∏—Å–ø—ã—Ç–∞–Ω–∏–π –∏ –ª–æ–≥–∏–∫–æ–π —Å–µ–∑–æ–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å REST/WebSocket —Å–ª–æ–π –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –Ω–∞–≥—Ä–∞–¥ –∏ –∏—Å–ø—ã—Ç–∞–Ω–∏–π Battle Pass, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å —è–¥—Ä–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –ü–æ–∑–≤–æ–ª–∏—Ç—å –∏–≥—Ä–æ–∫–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –æ–±–æ–∏—Ö —Ç—Ä–µ–∫–æ–≤ (free/premium)
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –¥–Ω–µ–≤–Ω—ã—Ö/–Ω–µ–¥–µ–ª—å–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –í–∫–ª—é—á–∏—Ç—å LiveOps —Å–æ–±—ã—Ç–∏—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ –∏ –¥–≤–æ–π–Ω—ã–º XP
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –Ω–∞–≥—Ä–∞–¥ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏–π

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç

**–ü—É—Ç—å:** `.BRAIN/05-technical/backend/battle-pass/part2-rewards-challenges.md`
**–í–µ—Ä—Å–∏—è:** v1.0.1 (2025-11-07 02:41)
**–°—Ç–∞—Ç—É—Å:** approved, api-readiness: ready

**–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**
- –ú–µ—Ç–æ–¥—ã `claimReward`, `completeChallenge`, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ–¥–µ–ª—å–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
- –¢–∏–ø—ã –Ω–∞–≥—Ä–∞–¥ (currency, item, cosmetic, xp boost) –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –Ω–∞–≥—Ä–∞–¥, –ø—Ä–µ–º–∏—É–º–∞, —á–µ–ª–ª–µ–Ω–¥–∂–µ–π, –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–≤
- –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–∏–≤–µ–Ω—Ç–æ–≤, –±—É—Å—Ç–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/05-technical/backend/battle-pass/part1-core-progression.md` ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ–∑–æ–Ω–æ–≤ –∏ XP
- `.BRAIN/05-technical/backend/progression-backend.md` ‚Äì –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- `.BRAIN/05-technical/backend/economy-system.md` ‚Äì –≤–∞–ª—é—Ç—ã –∏ –ª–∏–º–∏—Ç—ã
- `.BRAIN/05-technical/backend/inventory-system/part1-core-system.md` ‚Äì –≤—ã–¥–∞—á–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- `.BRAIN/05-technical/backend/cosmetic/cosmetic-system.md` ‚Äì —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ—Å–º–µ—Ç–∏–∫–∏
- `.BRAIN/05-technical/backend/analytics/analytics-events.md` ‚Äì –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `API-SWAGGER/tasks/active/queue/task-207-battle-pass-core-api.md` ‚Äì –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø–æ —è–¥—Ä—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- `API-SWAGGER/tasks/active/queue/task-203-cosmetic-system-api.md` ‚Äì –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≥—Ä–∞–¥

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

- **–§–∞–π–ª:** `api/v1/gameplay/battle-pass/battle-pass-rewards.yaml`
- **–í–µ—Ä—Å–∏—è API:** v1
- **–§–æ—Ä–º–∞—Ç:** OpenAPI 3.0.3

```
API-SWAGGER/api/v1/gameplay/battle-pass/
 ‚îú‚îÄ‚îÄ battle-pass-core.yaml (–∏–∑ API-TASK-207)
 ‚îî‚îÄ‚îÄ battle-pass-rewards.yaml  ‚Üê —Å–æ–∑–¥–∞—Ç—å/–∑–∞–ø–æ–ª–Ω–∏—Ç—å
```

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** gameplay-service
- **–ü–æ—Ä—Ç:** 8083
- **API Base Path:** `/api/v1/gameplay/battle-pass`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - auth-service ‚Äì –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏–≥—Ä–æ–∫–æ–≤
  - economy-service ‚Äì —Å–ø–∏—Å–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã/–≤—ã–ø–ª–∞—Ç—ã
  - inventory-service ‚Äì –≤—ã–¥–∞—á–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
  - cosmetic-service ‚Äì —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫–∏–Ω–æ–≤
  - buff-service ‚Äì –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ XP boost
  - notification-service ‚Äì —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞–≥—Ä–∞–¥–∞—Ö –∏ —á–µ–ª–ª–µ–Ω–¥–∂–∞—Ö
  - analytics-service ‚Äì —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø–æ –Ω–∞–≥—Ä–∞–¥–∞–º/—á–µ–ª–ª–µ–Ω–¥–∂–∞–º
  - progression-service ‚Äì —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π/–ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### Frontend
- **–ú–æ–¥—É–ª—å:** `modules/progression/battle-pass`
- **State Store:** `useBattlePassStore`
- **State:** `rewards`, `claimedLevels`, `challenges`, `boosts`, `leaderboard`
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** `RewardTrack`, `ChallengeList`, `RewardPreviewModal`, `BoostTimer`, `BattlePassLeaderboard`
- **–§–æ—Ä–º—ã:** `ClaimRewardForm`, `ActivateBoostForm`, `ChallengeRerollForm`
- **Layouts:** `ProgressionHubLayout`
- **–•—É–∫–∏:** `useRewards`, `useChallenges`, `useBoosts`, `useBattlePassSocket`

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è YAML

```yaml
# Target Architecture:
# - Microservice: gameplay-service (port 8083)
# - API Base: /api/v1/gameplay/battle-pass
# - Dependencies: auth-service, economy-service, inventory-service, cosmetic-service, buff-service, notification-service, analytics-service, progression-service
# - Frontend Module: modules/progression/battle-pass (useBattlePassStore)
# - UI: RewardTrack, ChallengeList, RewardPreviewModal, BoostTimer, BattlePassLeaderboard
# - Forms: ClaimRewardForm, ActivateBoostForm, ChallengeRerollForm
# - Layout: ProgressionHubLayout
# - Hooks: useRewards, useChallenges, useBoosts, useBattlePassSocket
```

---

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω)

1. –û–ø–∏—Å–∞—Ç—å –≤—ã–¥–∞—á—É –Ω–∞–≥—Ä–∞–¥ –ø–æ —É—Ä–æ–≤–Ω—è–º: –∑–∞–ø—Ä–æ—Å —Å–ø–∏—Å–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π, –≤—ã–¥–∞—á–∞ free/premium —Ç—Ä–µ–∫–æ–≤.
2. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å API –ø–æ–∫—É–ø–∫–∏/–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –Ω–∞–≥—Ä–∞–¥ (token bundles, reroll, bundles).
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞–º–∏: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –∞–∫—Ç–∏–≤–∞—Ü–∏—è –±–æ–Ω—É—Å–æ–≤, –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –¥–µ–π—Å—Ç–≤–∏—è–º.
4. –î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ XP boost (–∞–∫—Ç–∏–≤–∞—Ü–∏—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —ç—Ñ—Ñ–µ–∫—Ç—ã).
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å WebSocket/Server-Sent events –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
6. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å endpoints –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (claim rate, completion rate, boost usage).
7. –£–∫–∞–∑–∞—Ç—å —Å–æ–±—ã—Ç–∏—è event bus (reward claimed, challenge completed, boost activated).
8. –ü—Ä–æ–ø–∏—Å–∞—Ç—å –æ—à–∏–±–∫–∏, –ª–∏–º–∏—Ç—ã, –∞–Ω—Ç–∏-–∞–±—É–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å incident-service.
9. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã, —Ç–µ—Å—Ç-–ø–ª–∞–Ω, –æ—Ç–º–µ—Ç–∏—Ç—å —á–µ–∫–ª–∏—Å—Ç `tasks/config/checklist.md`.

---

## üîÄ Endpoints

1. **GET `/api/v1/gameplay/battle-pass/rewards`** ‚Äì —Å–ø–∏—Å–æ–∫ –Ω–∞–≥—Ä–∞–¥ —Å–µ–∑–æ–Ω–∞ (free/premium, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —É—Ä–æ–≤–Ω—é, —Ä–µ–¥–∫–æ—Å—Ç–∏).
2. **POST `/api/v1/gameplay/battle-pass/rewards/claim`** ‚Äì –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞, —Å–æ–±—ã—Ç–∏—è).
3. **POST `/api/v1/gameplay/battle-pass/rewards/preview`** ‚Äì –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–≥—Ä–∞–¥—ã (–¥–ª—è UI –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞).
4. **GET `/api/v1/gameplay/battle-pass/rewards/history`** ‚Äì –∏—Å—Ç–æ—Ä–∏—è –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
5. **POST `/api/v1/gameplay/battle-pass/rewards/reroll`** ‚Äì —Å–º–µ–Ω–∞ –Ω–∞–≥—Ä–∞–¥—ã –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ç–æ–∫–µ–Ω–∞ (–ª–∏–º–∏—Ç—ã, —Å—Ç–æ–∏–º–æ—Å—Ç—å).
6. **GET `/api/v1/gameplay/battle-pass/challenges/daily`** ‚Äì –∞–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–µ–≤–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä–æ–∫–∞.
7. **GET `/api/v1/gameplay/battle-pass/challenges/weekly`** ‚Äì –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–µ–¥–µ–ª—å–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏, —Ç–∞–π–º–µ—Ä—ã, –Ω–∞–≥—Ä–∞–¥—ã.
8. **POST `/api/v1/gameplay/battle-pass/challenges/{challengeId}/progress`** ‚Äì –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (service token –æ—Ç –º–∞—Ç—á/–∫–≤–µ—Å—Ç —Å–µ—Ä–≤–∏—Å–æ–≤).
9. **POST `/api/v1/gameplay/battle-pass/challenges/{challengeId}/complete`** ‚Äì –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞ –∏ –≤—ã–¥–∞—á–∞ XP/–Ω–∞–≥—Ä–∞–¥—ã.
10. **POST `/api/v1/gameplay/battle-pass/challenges/{challengeId}/reroll`** ‚Äì —Å–º–µ–Ω–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞ (–ª–∏–º–∏—Ç—ã, —Å—Ç–æ–∏–º–æ—Å—Ç—å).
11. **POST `/api/v1/gameplay/battle-pass/boosts/activate`** ‚Äì –∞–∫—Ç–∏–≤–∞—Ü–∏—è XP boost (—Ç–∏–ø, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∏—Å—Ç–æ—á–Ω–∏–∫).
12. **GET `/api/v1/gameplay/battle-pass/boosts`** ‚Äì –∞–∫—Ç–∏–≤–Ω—ã–µ –±—É—Å—Ç—ã, –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è, –±–æ–Ω—É—Å—ã.
13. **GET `/api/v1/gameplay/battle-pass/leaderboard`** ‚Äì —Ç–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –ø–æ –æ—á–∫–∞–º —á–µ–ª–ª–µ–Ω–¥–∂–µ–π/–Ω–∞–≥—Ä–∞–¥–∞–º.
14. **GET `/api/v1/gameplay/battle-pass/analytics/rewards`** ‚Äì —Å–≤–æ–¥–∫–∞ –ø–æ –≤—ã–¥–∞—á–∞–º, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –Ω–∞–≥—Ä–∞–¥, –æ—Ç—Ç–æ–∫—É.
15. **WS `/api/v1/gameplay/battle-pass/stream`** ‚Äì realtime —Å–æ–±—ã—Ç–∏—è: –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π, –±—É—Å—Ç–æ–≤, –Ω–æ–≤—ã—Ö –Ω–∞–≥—Ä–∞–¥.

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **RewardDefinition** ‚Äì level, track (`FREE|PREMIUM`), rewardType (`CURRENCY|ITEM|COSMETIC|XP_BOOST|BUNDLE`), rewardData, rarity, previewAsset.
- **RewardClaimRequest** ‚Äì level, track, autoClaimExtras, clientContext.
- **RewardClaimResponse** ‚Äì rewards[], xpEarned, premiumStatus, events[] (—Å—Å—ã–ª–∫–∏ –Ω–∞ event bus).
- **RewardHistoryEntry** ‚Äì rewardId, claimedAt, rewardType, amount, source (`LEVEL|CHALLENGE|BONUS`).
- **Challenge** ‚Äì id, challengeType (`DAILY|WEEKLY|SEASONAL`), description, objectives[], xpReward, rewardId, startAt, endAt, rerollCost.
- **ChallengeProgress** ‚Äì challengeId, playerId, status (`IN_PROGRESS|COMPLETED`), progressValue, updatedAt.
- **ChallengeProgressUpdateRequest** ‚Äì playerId, metric, amount, sourceEventId, allowOverflow.
- **BoostDefinition** ‚Äì boostId, boostType (`XP|REWARD_RATE|DOUBLE_DROPS`), multiplier, duration, cooldown.
- **BoostActivationRequest** ‚Äì boostId, activationSource (`TOKEN|EVENT|ADMIN`), cost.
- **RewardAnalyticsResponse** ‚Äì totalClaims, premiumClaims, rerollUsage, challengeCompletionRate, boostActivationRate, topRewards[].
- **Error Schema (`BattlePassRewardError`)** ‚Äì code (`LEVEL_LOCKED`, `ALREADY_CLAIMED`, `INSUFFICIENT_TOKEN`, `CHALLENGE_NOT_FOUND`, `BOOST_ACTIVE`, `REROLL_LIMIT`), message, traceId.
- **Events** ‚Äì `battle-pass:reward-claimed`, `battle-pass:challenge-progressed`, `battle-pass:challenge-completed`, `battle-pass:boost-activated`, `battle-pass:reward-rerolled`.

---

## üß≠ –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `BearerAuth` –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –≤—ã–∑–æ–≤–æ–≤; `ServiceToken` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ä–æ–ª–ª–æ–≤, –∞–Ω—Ç–∏-—Å–ø–∞–º –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å, cooldown –Ω–∞ –±—É—Å—Ç—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥ per level.
- –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã: –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ incident-service; —Ö—Ä–∞–Ω–∏—Ç—å audit trail.
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–∞–ª—é—Ç/–ø—Ä–µ–¥–º–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ economy/inventory/cosmetic —Å–µ—Ä–≤–∏—Å—ã.
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —è–¥—Ä–æ–º (API-TASK-207) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —É—Ä–æ–≤–Ω—è –∏ –ø—Ä–µ–º–∏—É–º–∞.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –æ—à–∏–±–∫–∏ –∏ –æ—Ç–≤–µ—Ç—ã (`api/v1/shared/common/responses.yaml`).

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã

- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã 25 —É—Ä–æ–≤–Ω—è —Å –≤—ã–¥–∞—á–µ–π –∫–æ—Å–º–µ—Ç–∏–∫–∏ –∏ –≤–∞–ª—é—Ç—ã.
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞ ¬´Complete 5 daily quests¬ª —Å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ–º XP –∏ –ø—Ä–µ–¥–º–µ—Ç–∞.
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è XP boost –Ω–∞ 2 —á–∞—Å–∞ –∏ realtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
- –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –Ω–∞–≥—Ä–∞–¥ –ø—Ä–µ–º–∏—É–º-—Ç—Ä–µ–∫–∞.

---

## üîó –°–≤—è–∑–Ω–æ—Å—Ç–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏–∑ `battle-pass-core` (API-TASK-207).
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å economy/inventory/cosmetic/buff —Å–µ—Ä–≤–∏—Å–∞–º–∏ –¥–ª—è –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥.
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ notification-service –∏ analytics-service.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç LiveOps –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (challenge generator, boost scheduler).

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. –§–∞–π–ª `battle-pass-rewards.yaml` —Å–æ–∑–¥–∞–Ω —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤/WS –∫–∞–Ω–∞–ª–∞.
2. –ü—Ä–æ–ø–∏—Å–∞–Ω—ã –º–æ–¥–µ–ª–∏ –Ω–∞–≥—Ä–∞–¥, —á–µ–ª–ª–µ–Ω–¥–∂–µ–π, –±—É—Å—Ç–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –æ—à–∏–±–æ–∫.
3. –û–ø–∏—Å–∞–Ω—ã –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, –ª–∏–º–∏—Ç—ã, —Å–æ–±—ã—Ç–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
4. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤, —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å—Å—ã–ª–∫–∞ –Ω–∞ —á–µ–∫–ª–∏—Å—Ç.
5. –ó–∞–¥–∞–Ω–∏–µ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ API-TASK-207 –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

---

## üìé Checklist

- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `tasks/templates/api-generation-task-template.md`
- [ ] –û–ø—Ä–µ–¥–µ–ª—ë–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–¥—É–ª—å –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—ã–¥–∞—á—É –Ω–∞–≥—Ä–∞–¥, —á–µ–ª–ª–µ–Ω–¥–∂–∏, –±—É—Å—Ç—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- [ ] –û–ø–∏—Å–∞–Ω—ã –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö, —Å–æ–±—ã—Ç–∏—è, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±–Ω–æ–≤–∏—Ç—å `tasks/config/brain-mapping.yaml`

---

## ‚ùìFAQ

**Q:** –ú–æ–∂–Ω–æ –ª–∏ –∫–ª–∞—Å—Ç—å WebSocket –∏ REST –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª?
**A:** –î–∞, –Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ WS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è realtime –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å–æ–±—ã—Ç–∏–π, —Å –ø—Ä–∏–º–µ—Ä–æ–º handshake –∏ payload–æ–≤.

**Q:** –ö—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞–º?
**A:** –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (quest-service, match-service, events) —á–µ—Ä–µ–∑ `ServiceToken`, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–¥–º–µ–Ω—É –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–º.

**Q:** –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é ¬´–Ω–∞–≥—Ä–∞–¥–∞ —É–∂–µ –ø–æ–ª—É—á–µ–Ω–∞¬ª?
**A:** –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `409 Conflict` —Å –æ—à–∏–±–∫–æ–π `ALREADY_CLAIMED`, –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ –∞—É–¥–∏—Ç –∏ —É–≤–µ–¥–æ–º–ª—è—Ç—å analytics-service.


