# API-SWAGGER CORE

## Назначение
- Единственный источник OpenAPI 3.0.3 спецификаций и общих компонентов.
- Управление заданиями для АПИТАСК/БЭКТАСК/ФРОНТТАСК через `tasks/`.
- Валидация и контроль структуры API перед генерацией кода.

## Главные ссылки
- Общие правила: `../GLOBAL-RULES.md`
- Сценарии: `ДУАПИТАСК.MD`, `АПИТАСК.MD`
- Трекинг связей: `tasks/config/brain-mapping.yaml` (+ части `_0001`, `_0002`, …)
- Руководства: `tasks/config/task-creation-guide.md`, `tasks/config/checklist.md`, `АПИТАСК-ARCHITECTURE.md`

## Ключевые обязанности
1. Создавать задания API Generation на основе `.BRAIN` документов со статусом `api-readiness: ready`.
2. Поддерживать структуру `api/v1/<microservice>/<domain>/` и соблюдать таблицу микросервисов из `GLOBAL-RULES.md`.
3. Обеспечивать наличие в каждой боевой спецификации:
   - `info.x-microservice` с корректными `name`, `port`, `domain`, `base-path`, `directory`
   - `servers`: Production `https://api.necp.game/v1`, при необходимости Dev `http://localhost:8080/api/v1`
4. Хранить общие компоненты только в `api/v1/shared/` и подключать их через `$ref`.
5. Сохранять задачи/спецификации в лимите 500 строк; превышение решать через версии `_0001`, `_0002`.

## Процесс
1. Получить входные документы из `.BRAIN` (см. `brain-mapping.yaml`).
2. Создать подробное задание (`tasks/active/queue/`), обновить трекеры и `.BRAIN` документ.
3. Сгенерировать и проверить OpenAPI спецификацию.
4. Запустить `../scripts/validate-swagger.ps1` — ошибки блокируют переход к реализации (`-ApiSpec` для одиночного файла, `-ApiDirectory` для каталога).
5. Передать результаты в BACK-GO/FRONT-WEB, обновить `brain-mapping.yaml` и `implementation-tracker.yaml`.

## Автоматизация и контроль
- Для массовых проверок/генераций используй `../scripts/validate-swagger.ps1`.
- Любые изменения структуры каталогов отражай сразу в заданиях и трекерах.
- Коммить изменения через `scripts/autocommit.ps1|.sh`, поддерживая историю спецификаций.


